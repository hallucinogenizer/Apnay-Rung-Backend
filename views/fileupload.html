<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>File Upload</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <form id='form' action='' method="post" enctype="multipart/form-data">
            <input type="text" name="name" id="name" placeholder="name">
            <input type="email" name="email" id="email" placeholder="email">
            <input type="password" name="password" placeholder="password">
            <input type="text" name="location" placeholder="location">
            <input type="text" name="cnic" placeholder="cnic">
            <input type="file" name="cnic_image" id='fileinput'/>
            <input type="text" name="sec_questions" placeholder="secret questions">
            <input type="submit">
        </form>
        
        <script>
            // Select your input type file and store it in a variable
            /*const name = document.getElementById('name').value
            const email = document.getElementById('email').value
            const password = document.getElementById('password').value
            const location = document.getElementById('location').value
            const cnic = document.getElementById('cnic').value
            const sec_questions = document.getElementById('sec_questions').value*/
            const input = document.getElementById('fileinput');
            const form = document.getElementById('form')
            

            

            // Add a listener on your input
            // It will be triggered when a file will be selected
            form.addEventListener('submit',(event)=>{
                event.preventDefault()
                var formData = new FormData(form)
                fetch('http://localhost:3000/seller/new', { // Your POST endpoint
                    method: 'POST',
                    body: formData
                }).then(
                    response => console.log(response) // if the response is a JSON object
                ).then(
                    success => console.log(success) // Handle the success response object
                ).catch(
                    error => console.log(error) // Handle the error response object
                )
            });
        </script>
    </body>
</html>